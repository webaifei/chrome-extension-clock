{"version":3,"sources":["scripts/tip.js"],"names":["offWork","startHour","endHour","minutes","resetBtn","isStart","timer","min","randMinute","parseInt","Math","random","setTimeout","canClick","startTime","endTime","clickBtn","document","getElementById","shandow","querySelector","mark","popPanel","setInterval","_curTime","Date","_curHour","getHours","_curMinite","getMinutes","_day","getDay","console","log","click","window","localStorage","setItem","remove","onload"],"mappings":"AAAA,YAOA,SAASA,SAAQC,EAAWC,EAASC,GA8DpC,QAAUC,GAASC,GAClB,GAAIC,GAAQ,KACRC,EAAMF,EAAQ,EAAE,EACpBG,GAAaD,EAAIE,SAAuB,GAAdC,KAAKC,SAAa,IAC5CL,EAAQM,WAAW,WAClBC,UAAW,GACT,MAnEJ,GAAIP,GAAQ,KACXQ,EAAYb,GAAW,EACvBc,EAAUb,GAAS,GACnBM,EAAaL,GAAS,GACtBa,EAAWC,SAASC,eAAe,WACnCC,EAAUF,SAASG,cAAc,kBACjCC,EAAOJ,SAASG,cAAc,gBAC9BE,EAAWL,SAASG,cAAc,oBAClCZ,EAAa,EAAEC,SAAuB,GAAdC,KAAKC,SAAa,GAC3CL,GAAQiB,YAAY,WACnB,GAAIC,GAAW,GAAIC,MAClBC,EAAWF,EAASG,WACpBC,EAAaJ,EAASK,aACtBC,EAAON,EAASO,QAGjB,OADAC,SAAQC,IAAIP,EAAUE,EAAWpB,GACtB,GAARsB,GAAqB,GAARA,MACfE,SAAQC,IAAI,cAITP,IAAaZ,GAAac,GAAapB,GAAcK,UACxDA,UAAW,EACXG,GAAUA,EAASkB,QAEnBC,OAAOC,aAAaC,QAAQ,QAASX,EAAS,IAAIlB,GAClDJ,GAAS,GACTQ,WAAW,WACVO,EAAUF,SAASG,cAAc,kBACjCC,EAAOJ,SAASG,cAAc,gBAC9BE,EAAWL,SAASG,cAAc,oBAElCD,EAAQmB,SACRjB,EAAKiB,SACLhB,EAASgB,UACP,MAGMZ,IAAaX,GAAWa,GAAapB,GAAcK,UAE5DA,UAAW,EACXG,GAAUA,EAASkB,QAEnBC,OAAOC,aAAaC,QAAQ,MAAOX,EAAS,IAAIlB,GAChDJ,GAAS,GACTQ,WAAW,WACVO,EAAUF,SAASG,cAAc,kBACjCC,EAAOJ,SAASG,cAAc,gBAC9BE,EAAWL,SAASG,cAAc,oBAElCD,EAAQmB,SACRjB,EAAKiB,SACLhB,EAASgB,UACP,MAGHN,QAAQC,IAAI,qBAEX,KAhEJE,OAAOI,OAAS,WACfvC,QAAQ,EAAG,GAAI,IAEhB,IAAIa,WAAW","file":"scripts/tip.js","sourcesContent":["\"use strict\";\r\n\r\nwindow.onload = function (){\r\n\toffWork(8, 19, 30);\r\n}\r\nvar canClick = true;\r\n\r\nfunction offWork(startHour, endHour, minutes){\r\n\tvar timer = null,\r\n\t\tstartTime = startHour||8,\r\n\t\tendTime = endHour||21,\r\n\t\trandMinute = minutes||30,\r\n\t\tclickBtn = document.getElementById('clockIn'),\r\n\t\tshandow = document.querySelector('.window-shadow'),\r\n\t\tmark = document.querySelector('.window-mask'),\r\n\t\tpopPanel = document.querySelector('.messager-window'),\r\n\t\trandMinute = 0+parseInt(Math.random()*15, 10);\r\n\ttimer = setInterval(function (){\r\n\t\tvar _curTime = new Date(),\r\n\t\t\t_curHour = _curTime.getHours(),\r\n\t\t\t_curMinite = _curTime.getMinutes(),\r\n\t\t\t_day = _curTime.getDay();\r\n\t\t\t\r\n\t\tconsole.log(_curHour, _curMinite,randMinute);\r\n\t\tif(_day == 0 || _day == 6){\r\n\t\t\tconsole.log('今天休息！')\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t// 上班打卡\r\n\t\tif( _curHour === startTime && _curMinite>= randMinute && canClick ){\r\n\t\t\tcanClick = false;\r\n\t\t\tclickBtn&&clickBtn.click();\r\n\t\t\t// 保存到localstorage 中\r\n\t\t\twindow.localStorage.setItem('start', _curHour+':'+randMinute)\r\n\t\t\tresetBtn(true);\r\n\t\t\tsetTimeout(function (){\r\n\t\t\t\tshandow = document.querySelector('.window-shadow'),\r\n\t\t\t\tmark = document.querySelector('.window-mask'),\r\n\t\t\t\tpopPanel = document.querySelector('.messager-window')\r\n\r\n\t\t\t\tshandow.remove()\r\n\t\t\t\tmark.remove()\r\n\t\t\t\tpopPanel.remove()\r\n\t\t\t}, 3000)\r\n\t\t\t//window.history.go(-1)\r\n\t\t\t\r\n\t\t}else if( _curHour === endTime && _curMinite>= randMinute && canClick ){\r\n\t\t\t// 下班打卡\r\n\t\t\tcanClick = false;\r\n\t\t\tclickBtn&&clickBtn.click();\r\n\t\t\t// 保存到localstorage 中\r\n\t\t\twindow.localStorage.setItem('end', _curHour+':'+randMinute)\r\n\t\t\tresetBtn(false);\r\n\t\t\tsetTimeout(function (){\r\n\t\t\t\tshandow = document.querySelector('.window-shadow'),\r\n\t\t\t\tmark = document.querySelector('.window-mask'),\r\n\t\t\t\tpopPanel = document.querySelector('.messager-window')\r\n\r\n\t\t\t\tshandow.remove()\r\n\t\t\t\tmark.remove()\r\n\t\t\t\tpopPanel.remove()\r\n\t\t\t}, 3000)\r\n\t\t\t\r\n\t\t}else{\r\n\t\t\tconsole.log('work or rest...')\r\n\t\t}\r\n\t}, 1000*30)\r\n\r\n\t// 重置canClick \r\n\tfunction  resetBtn(isStart){\r\n\t\tvar timer = null;\r\n\t\tvar min = isStart?0:30;\r\n\t\trandMinute = min+parseInt(Math.random()*15, 10);\r\n\t\ttimer = setTimeout(function (){\r\n\t\t\tcanClick = true;\r\n\t\t}, 1000*60*60)\r\n\t}\r\n}"],"sourceRoot":"/source/"}